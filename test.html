<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog App</title>
</head>
<body>
    <h1>Blog App</h1>
    <form id="blog-form">
        <input type="text" id="title" placeholder="Judul Blog">
        <textarea id="content" placeholder="Konten Blog"></textarea>
        <input type="file" id="input-blog-image">
        <button type="submit">Submit</button>
    </form>
    <div id="content-container"></div>

    <script>
        const data = [];

        const blogForm = document.getElementById("blog-form");
        const titleInput = document.getElementById("title");
        const contentInput = document.getElementById("content");
        const imageInput = document.getElementById("input-blog-image");
        const contentContainer = document.getElementById("content-container");

        blogForm.addEventListener("submit", submitData);

        function renderBlog() {
            contentContainer.innerHTML = "";

            for (let i = 0; i < data.length; i++) {
                const blogPost = document.createElement("div");
                blogPost.className = "blog-post";
                blogPost.innerHTML = `
                    <img src="${data[i].image}" alt="Gambar Blog">
                    <h2>${data[i].title}</h2>
                    <p class="date">Tanggal: 01 Januari 2023</p>
                    <p>${data[i].content}</p>
                    <div class="btn-group">
                        <button class="btn-edit">Edit</button>
                        <button class="btn-delete">Hapus</button>
                    </div>
                `;

                contentContainer.appendChild(blogPost);
            }
        }

        function submitData(e) {
            e.preventDefault();

            let title = titleInput.value;
            let content = contentInput.value;
            let image = imageInput.files[0];

            const reader = new FileReader();

            reader.onload = function () {
                const imageSrc = reader.result;

                const obj = {
                    title,
                    content,
                    image: imageSrc,
                };

                data.push(obj);
                renderBlog();

                // Clear form inputs
                titleInput.value = "";
                contentInput.value = "";
                imageInput.value = "";
            };

            reader.readAsDataURL(image);
        }
    </script>
</body>
</html>
